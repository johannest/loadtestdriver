<div hidden="" by-polymer-bundler=""><script>window.ScrollShadowMixin=a=>class extends a{static get properties(){return{noScroll:{type:Boolean,reflectToAttribute:!0},_main:Element,_boundContentScroll:Function}}ready(){super.ready(),Polymer.RenderStatus.afterNextRender(this,()=>{this._main=this.root.querySelector('#main'),this._main&&(this._main.addEventListener('scroll',this._contentScroll.bind(this)),this._contentScroll())}),this._boundContentScroll=this._contentScroll.bind(this)}_contentScroll(){this._main&&(this.noScroll=this._main.scrollHeight-this._main.scrollTop==this._main.clientHeight)}};</script><dom-module id="buttons-bar" assetpath="src/components/"><template><style>:host{flex:none;display:flex;flex-wrap:wrap;transition:box-shadow .2s;justify-content:space-between;padding-top:var(--lumo-space-s);align-items:baseline;box-shadow:0 -3px 3px -3px var(--lumo-shade-20pct)}:host([no-scroll]){box-shadow:none}.info,:host ::slotted([slot=info]){text-align:right;flex:1}::slotted(vaadin-button){margin:var(--lumo-space-xs)}@media (max-width:600px){:host ::slotted([slot=info]){order:-1;min-width:100%;flex-basis:100%}}</style><slot name="left"></slot><slot name="info"><div class="info"></div></slot><slot name="right"></slot></template><script>{class a extends Polymer.Element{static get is(){return'buttons-bar'}}window.customElements.define(a.is,a)}</script></dom-module><dom-module id="form-buttons-bar" assetpath="src/components/"><template><buttons-bar><vaadin-button id="save" slot="left" theme="raised primary">Save</vaadin-button><vaadin-button id="cancel" slot="left" theme="raised">Cancel</vaadin-button><vaadin-button id="delete" slot="right" theme="raised tertiary error">Delete</vaadin-button></buttons-bar></template><script>{class a extends Polymer.Element{static get is(){return'form-buttons-bar'}}window.customElements.define(a.is,a)}</script></dom-module><dom-module id="access-denied-view" assetpath="src/views/errors/"><template><h3 style="text-align:center">Access denied</h3></template><script>class AccessDeniedView extends Polymer.Element{static get is(){return'access-denied-view'}}customElements.define(AccessDeniedView.is,AccessDeniedView);</script></dom-module><dom-module id="order-details" assetpath="src/views/orderedit/"><template><style include="shared-styles">:host{display:flex;flex-direction:column;box-sizing:border-box;flex:auto}.table{display:table}.tr{display:table-row}.td{display:table-cell}.main-row{flex:1}h3{margin:0;word-break:break-all;word-break:break-word;white-space:normal}.date,.time{white-space:nowrap}.dim,.secondary{color:var(--lumo-secondary-text-color)}.secondary{font-size:var(--lumo-font-size-xs);line-height:var(--lumo-font-size-xl)}.meta-row{display:flex;justify-content:space-between;padding-bottom:var(--lumo-space-s)}.products{width:100%}.products .td{text-align:center;vertical-align:middle;padding:var(--lumo-space-xs);border:none;border-bottom:1px solid var(--lumo-contrast-10pct)}.products .td.product-name{text-align:left;padding-left:0;width:100%}.products .td.number{text-align:right}.products .td.money{text-align:right;padding-right:0}.history-line{margin:var(--lumo-space-xs) 0}.comment{font-size:var(--lumo-font-size-s)}order-status-badge[small]{margin-left:.5em}#sendComment{color:var(--lumo-primary-color-50pct)}@media (min-width:600px){.main-row{padding:var(--lumo-space-l);flex-basis:auto}}</style><div class="scrollable main-row" id="main"><div class="meta-row"><order-status-badge status="[[item.state]]"></order-status-badge><span class="dim">Order #[[item.id]]</span></div><vaadin-form-layout id="form1"><vaadin-form-item><label slot="label">Due</label><vaadin-form-layout id="form2"><div class="date"><h3>[[item.dueDate.day]]</h3><span class="dim">[[item.dueDate.weekday]]</span></div><div class="time"><h3>[[item.dueTime]]</h3><span class="dim">[[item.pickupLocation.name]]</span></div></vaadin-form-layout></vaadin-form-item><vaadin-form-item colspan="2"><label slot="label">Customer</label><h3>[[item.customer.fullName]]</h3></vaadin-form-item><vaadin-form-item><label slot="label">Phone number</label><h3>[[item.customer.phoneNumber]]</h3></vaadin-form-item></vaadin-form-layout><vaadin-form-layout id="form3"><div></div><vaadin-form-layout id="form4" colspan="2"><template is="dom-if" if="[[item.customer.details]]"><vaadin-form-item label-position="top"><label slot="label">Additional details</label><span>[[item.customer.details]]</span></vaadin-form-item></template><vaadin-form-item><label slot="label">Products</label><div class="table products"><template is="dom-repeat" items="[[item.items]]" as="item"><dom-if if="[[item.product.name]]"><template><div class="tr"><div class="td product-name"><div class="bold">[[item.product.name]]</div><div class="secondary">[[item.comment]]</div></div><div class="td number"><span class="count">[[item.quantity]]</span></div><div class="td dim">Ã—</div><div class="td money">[[item.product.price]]</div></div></template></dom-if></template></div></vaadin-form-item><vaadin-form-item id="history" label-position="top" hidden="[[review]]"><label slot="label">History</label><template is="dom-repeat" items="[[item.history]]" as="event"><div class="history-line"><span class="bold">[[event.createdBy.firstName]]</span> <span class="secondary">[[event.timestamp]]</span><order-status-badge status="[[event.newState]]" small=""></order-status-badge></div><div class="comment">[[event.message]]</div></template></vaadin-form-item><vaadin-form-item id="comment" hidden="[[review]]"><vaadin-text-field id="commentField" placeholder="Add comment" class="full-width" on-keydown="_onCommentKeydown" maxlength="255"><div slot="suffix" class="comment-suffix"><vaadin-button id="sendComment" theme="tertiary">Send</vaadin-button></div></vaadin-text-field></vaadin-form-item></vaadin-form-layout></vaadin-form-layout></div><buttons-bar id="footer" no-scroll$="[[noScroll]]"><vaadin-button slot="left" id="back" hidden="[[!review]]">Back</vaadin-button><vaadin-button slot="left" id="cancel" hidden="[[review]]">Cancel</vaadin-button><div slot="info" class="total">Total [[item.totalPrice]]</div><vaadin-button slot="right" id="save" theme="primary success" hidden="[[!review]]"><iron-icon icon="vaadin:check" slot="suffix"></iron-icon>Place order</vaadin-button><vaadin-button slot="right" id="edit" theme="primary" hidden="[[review]]">Edit order<iron-icon icon="vaadin:edit" slot="suffix"></iron-icon></vaadin-button></buttons-bar></template><script>class OrderDetails extends window.ScrollShadowMixin(Polymer.Element){static get is(){return'order-details'}static get properties(){return{item:{type:Object}}}ready(){super.ready(),this.$.form1.responsiveSteps=this.$.form3.responsiveSteps=[{columns:1,labelsPosition:'top'},{minWidth:'600px',columns:4,labelsPosition:'top'}],this.$.form2.responsiveSteps=[{columns:1},{minWidth:'180px',columns:2}],this.$.form4.responsiveSteps=[{columns:1,labelsPosition:'top'}]}_onCommentKeydown(a){('Enter'===a.key||13==a.keyCode)&&(this.$.commentField.blur(),this.$.sendComment.click())}}window.customElements.define(OrderDetails.is,OrderDetails);</script></dom-module><dom-module id="amount-field" assetpath="src/components/"><template><style>:host{display:block}iron-icon{cursor:pointer;text-align:center}iron-icon[disabled]{cursor:default;opacity:.1}vaadin-text-field{--vaadin-text-field-default-width:6em;flex:auto;display:flex}</style><vaadin-text-field id="input" part="text-field" theme="align-center" label="[[label]]" value="{{value}}" disabled="[[disabled]]" pattern$="[[pattern]]" prevent-invalid-input="" readonly="[[!editable]]"><iron-icon slot="prefix" icon="vaadin:minus" on-click="_minus" disabled$="[[_minusDisabled(value, min, max, disabled, readOnly)]]"></iron-icon><iron-icon slot="suffix" icon="vaadin:plus" on-click="_plus" disabled$="[[_plusDisabled(value, min, max, disabled, readOnly)]]"></iron-icon></vaadin-text-field></template><script>{class a extends Polymer.Element{static get is(){return'amount-field'}static get properties(){return{value:{type:Number,value:0,notify:!0},min:{type:Number,observer:'_minChanged',value:0},max:{type:Number,observer:'_maxChanged',value:Number.MAX_SAFE_INTEGER||9007199254740991},disabled:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},editable:{type:Boolean},pattern:{type:String,value:'d*'},label:String}}get _enabled(){return!this.disabled&&!this.readOnly}get _number(){const a=parseInt(this.value);return isNaN(a)?this.min:a}_minChanged(a){this.value=this._number<a?a:this._number}_maxChanged(a){this.value=this._number>a?a:this._number}_plus(){this._plusDisabled()||(this.value=this._number+1),this.$.input.focus()}_minus(){this._minusDisabled()||(this.value=this._number-1),this.$.input.focus()}_isEqual(a,b){return Math.max(this.min,Math.min(this._number,this.max))===b}_plusDisabled(){return!this._enabled||this._number>=this.max}_minusDisabled(){return!this._enabled||this._number<=this.min}}window.customElements.define(a.is,a)}</script></dom-module><dom-module id="order-item-editor" assetpath="src/views/orderedit/"><template><style include="shared-styles">.product{margin-bottom:1em}.delete{min-width:2em;padding:0}@media (max-width:700px){vaadin-form-layout{--vaadin-form-layout-column-spacing:1em}}.money{text-align:right;line-height:2.5em}.self-start{align-self:flex-start}</style><vaadin-form-layout id="form1"><vaadin-form-layout id="form2" colspan="16" class="product" style="flex:auto"><vaadin-combo-box id="products" colspan="8" index="[[index]]"></vaadin-combo-box><amount-field id="amount" colspan="4" index="[[index]]" class="self-start" min="1" max="15" editable="" pattern="|1[0-5]?|[2-9]"></amount-field><div id="price" colspan="4" class="money">[[price]]</div><vaadin-text-field id="comment" colspan="12" placeholder="Details" index="[[index]]"></vaadin-text-field></vaadin-form-layout><vaadin-button class="delete self-start" id="delete" colspan="2" index="[[index]]"><iron-icon icon="vaadin:close-small"></iron-icon></vaadin-button></vaadin-form-layout></template><script>class OrderItemEditor extends Polymer.Element{static get is(){return'order-item-editor'}ready(){super.ready(),this.$.form1.responsiveSteps=[{columns:24}],this.$.form2.responsiveSteps=[{columns:8,labelsPosition:'top'},{minWidth:'500px',columns:16,labelsPosition:'top'}]}}window.customElements.define(OrderItemEditor.is,OrderItemEditor);</script></dom-module><dom-module id="order-editor" assetpath="src/views/orderedit/"><template><style include="shared-styles">:host{display:flex;flex-direction:column;flex:auto}.meta-row{display:flex;justify-content:space-between;padding-bottom:var(--lumo-space-s)}.dim{color:var(--lumo-secondary-text-color);text-align:right;white-space:nowrap;line-height:2.5em}.status{width:10em}</style><div class="scrollable flex1" id="main"><h2 id="title">New order</h2><div class="meta-row" id="metaContainer"><vaadin-combo-box class="status" id="status"></vaadin-combo-box><span class="dim">Order #<span id="orderNumber"></span></span></div><vaadin-form-layout id="form1"><vaadin-form-layout id="form2"><vaadin-date-picker label="Due" id="dueDate"></vaadin-date-picker><vaadin-combo-box id="dueTime"><iron-icon slot="prefix" icon="vaadin:clock"></iron-icon></vaadin-combo-box><vaadin-combo-box id="pickupLocation" colspan="2"><iron-icon slot="prefix" icon="vaadin:at"></iron-icon></vaadin-combo-box></vaadin-form-layout><vaadin-form-layout id="form3" colspan="3"><vaadin-text-field id="customerName" label="Customer" colspan="2"><iron-icon slot="prefix" icon="vaadin:user"></iron-icon></vaadin-text-field><vaadin-text-field id="customerNumber" label="Phone number"><iron-icon slot="prefix" icon="vaadin:phone"></iron-icon></vaadin-text-field><vaadin-text-field id="customerDetails" label="Additional Details" colspan="2"></vaadin-text-field><vaadin-form-item colspan="3"><label slot="label">Products</label></vaadin-form-item><div id="itemsContainer" colspan="3"></div></vaadin-form-layout></vaadin-form-layout></div><buttons-bar id="footer" no-scroll$="[[noScroll]]"><vaadin-button slot="left" id="cancel">Cancel</vaadin-button><div slot="info" class="total">Total [[totalPrice]]</div><vaadin-button slot="right" id="review" theme="primary">Review order<iron-icon icon="vaadin:arrow-right" slot="suffix"></iron-icon></vaadin-button></buttons-bar></template><script>class OrderEditor extends window.ScrollShadowMixin(Polymer.Element){static get is(){return'order-editor'}static get properties(){return{status:{type:String,observer:'_onStatusChange'}}}ready(){super.ready(),this.$.form1.responsiveSteps=[{columns:1,labelsPosition:'top'},{minWidth:'600px',columns:4,labelsPosition:'top'}],this.$.form2.responsiveSteps=[{columns:1,labelsPosition:'top'},{minWidth:'360px',columns:2,labelsPosition:'top'}],this.$.form3.responsiveSteps=[{columns:1,labelsPosition:'top'},{minWidth:'500px',columns:3,labelsPosition:'top'}]}_onStatusChange(){const a=this.status?this.status.toLowerCase():this.status;this.$.status.$.input.setAttribute('status',a)}}window.customElements.define(OrderEditor.is,OrderEditor);</script></dom-module><dom-module id="search-bar" assetpath="src/components/"><template><style include="shared-styles">:host{position:relative;z-index:2;display:flex;flex-direction:column;overflow:hidden;padding:0 var(--lumo-space-s);background-image:linear-gradient(var(--lumo-shade-20pct),var(--lumo-shade-20pct));background-color:var(--lumo-base-color);box-shadow:0 0 16px 2px var(--lumo-shade-20pct);order:1;width:100%;height:48px}.row{display:flex;align-items:center;height:3em}.checkbox,.clear-btn,:host([show-extra-filters]) .action-btn{display:none}:host([show-extra-filters]) .clear-btn{display:block}:host([show-checkbox]) .checkbox.mobile{display:block;transition:all .5s;height:0}:host([show-checkbox][show-extra-filters]) .checkbox.mobile{height:2em}.field{flex:1;width:auto;padding-right:var(--lumo-space-s)}@media (min-width:700px){:host{order:0}.row{width:100%;max-width:964px;margin:0 auto}.field{padding-right:var(--lumo-space-m)}:host([show-checkbox][show-extra-filters]) .checkbox.desktop{display:block}:host([show-checkbox][show-extra-filters]) .checkbox.mobile{display:none}}</style><div class="row"><vaadin-text-field id="field" class="field" placeholder="[[fieldPlaceholder]]" value="{{fieldValue}}" on-focus="_onFieldFocus" on-blur="_onFieldBlur" theme="white"><iron-icon icon$="[[fieldIcon]]" slot="prefix"></iron-icon></vaadin-text-field><vaadin-checkbox class="checkbox desktop" checked="{{checkboxChecked}}" on-focus="_onFieldFocus" on-blur="_onFieldBlur">[[checkboxText]]</vaadin-checkbox><vaadin-button id="clear" class="clear-btn" theme="tertiary">[[clearText]]</vaadin-button><vaadin-button id="action" class="action-btn" theme="primary"><iron-icon icon$="[[buttonIcon]]" slot="prefix"></iron-icon>[[buttonText]]</vaadin-button></div><vaadin-checkbox class="checkbox mobile" checked="{{checkboxChecked}}" on-focus="_onFieldFocus" on-blur="_onFieldBlur">[[checkboxText]]</vaadin-checkbox></template><script>class SearchBar extends Polymer.Element{static get is(){return'search-bar'}static get properties(){return{fieldPlaceholder:{type:String},fieldValue:{type:String,notify:!0},fieldIcon:{type:String,value:'vaadin:search'},buttonIcon:{type:String,value:'vaadin:plus'},buttonText:{type:String},showCheckbox:{type:Boolean,value:!1,reflectToAttribute:!0},checkboxText:{type:String},checkboxChecked:{type:Boolean,notify:!0},clearText:{type:String,value:'Clear search'},showExtraFilters:{type:Boolean,value:!1,reflectToAttribute:!0},_isSafari:{type:Boolean,value:function(){return /^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}}}static get observers(){return['_setShowExtraFilters(fieldValue, checkboxChecked, _focused)']}ready(){super.ready(),this.addEventListener('touchmove',a=>a.preventDefault())}_setShowExtraFilters(a,b,c){this._debouncer=Polymer.Debouncer.debounce(this._debouncer,Polymer.Async.timeOut.after(1),()=>{this.showExtraFilters=a||b||c,this._isSafari&&this.root&&Array.from(this.root.querySelectorAll('*')).forEach(function(a){a.style['-webkit-backface-visibility']='visible',a.style['-webkit-backface-visibility']=''})})}_onFieldFocus(a){a.target==this.$.field&&this.dispatchEvent(new Event('search-focus',{bubbles:!0,composed:!0})),this._focused=!0}_onFieldBlur(a){a.target==this.$.field&&this.dispatchEvent(new Event('search-blur',{bubbles:!0,composed:!0})),this._focused=!1}}window.customElements.define(SearchBar.is,SearchBar);</script></dom-module><dom-module id="storefront-view" assetpath="src/views/storefront/"><template><style include="shared-styles">:host{display:flex;flex-direction:column;height:100%}</style><search-bar id="search" show-checkbox=""></search-bar><vaadin-grid id="grid" theme="orders no-row-borders"></vaadin-grid><vaadin-dialog id="dialog" theme="orders" on-opened-changed="_onDialogOpen"></vaadin-dialog></template><script>class StorefrontView extends Polymer.Element{static get is(){return'storefront-view'}ready(){super.ready();const a=this.$.grid,b=()=>{!a.loading&&window.performance.mark&&(window.performance.mark('bakery-page-loaded'),a.removeEventListener('loading-changed',b))};a.addEventListener('loading-changed',b)}_onDialogOpen(a){if(a.detail.value){var b=this.$.dialog.$.overlay.content;b.querySelector('flow-component-renderer').setAttribute('theme','dialog')}}}window.customElements.define(StorefrontView.is,StorefrontView);</script></dom-module></div>